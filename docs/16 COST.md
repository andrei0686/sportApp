# Стоимость владения

Стоимость владения системой в первый, второй и пятый годы с учётом роста 
данных и базы пользователей. 

Основные предположения:

* 1-й год: 10 000 активных пользователей в месяц.
* 2-й год: 1 000 000 активных пользователей в месяц.
* 5-й год: 50 000 000 активных пользователей в месяц.

Предполагается команда из 5-7 человек (разработчики, дизайнеры, тестировщики) на 6-9 месяцев.

В качестве облачных решений взята архитектура в Yandex Cloud - это масштабируемая инфраструктура, включающая виртуальные машины (VM), базы данных, объектное хранилище, балансировщики нагрузки и CDN для статических данных.

Увеличение количества пользователей требует масштабирования ресурсов, особенно вычислительных мощностей, хранилища и сетевого трафика.

## Капитальные вложения (CAPEX)
#### Разработка приложения:
*  разработка включает этапы: сбор требований, проектирование, прототипирование, разработка frontend и backend, тестирование и релиз.
* Предлагается команда из 7 человек (2 backend, 2 frontend, 1 дизайнер, 1 тестировщик, 1 проект менеджер) с средней зарплатой 200 000 RUB/мес на человека.
* Срок разработки 9 месяцев.
* Стоимость 7 человек * 200 000 RUB * 9 месяцев = 12 600 000 RUB.
#### Начальная настройка облачной инфраструктуры:
* Настройка серверов, баз данных, CI/CD, сетей, безопасности.
* Требуется команда из 2 DevOps-инженеров на 2 месяца по 250 000 RUB/мес.
* Стоимость: 2 * 250 000 * 2 = 1 000 000 RUB.
#### Итого CAPEX (1-й год): 12 600 000 + 1 000 000 = 13 600 000 RUB
На 2-й и 5-й годы CAPEX не учитывается, так как это одноразовые затраты.

## Операционные расходы (OPEX)
### OPEX включает:
* Облачные ресурсы (Yandex Cloud) — ежемесячные расходы на вычислительные ресурсы, хранилище и сеть.
* DevOps и поддержка — оплата труда инженеров для мониторинга, масштабирования и обновлений.
* Лицензии —  используются open-source инструменты, поэтому затраты минимальны (0 RUB).

#### Расходы на Yandex Cloud
Рассчитаем расходы для каждого года в зависимости от нагрузки (числа пользователей). Предположим, что нагрузка пропорциональна количеству пользователей, а основные ресурсы включают вычислительные мощности, базы данных, хранилище и трафик.

##### 1-й год (10 000 пользователей)
* Виртуальные машины:
    * 4 VM с конфигурацией 4 vCPU, 8 ГБ RAM, 100 ГБ SSD каждая (для обработки запросов и API).
    * Стоимость 1 VM ~ 7 000 RUB/мес.
    * Итого: 4 * 7 000 = 21 000 RUB/мес.
    * За год: 21 000 * 12 = 252 000 RUB.
* база данных:
    * Конфигурация: 4 vCPU, 16 ГБ RAM, 200 ГБ хранилища.
    * Стоимость ~ 20 000 RUB/мес.
    * За год: 20 000 * 12 = 240 000 RUB
* хранилище (статические файлы, 1 ТБ хранилища, 1 ТБ исходящего трафика):
    * Хранилище: 1 TБ * 2000 RUB/ГБ = 2000 RUB/мес.
    * Трафик: 1000 ГБ * 2 RUB/ГБ = 2000 RUB/мес.
    * Итого: 4000 RUB/мес.
    * За год: 4000 * 12 = 48000 RUB.
* Load Balancer и CDN (для распределения нагрузки и статических данных):
    * Load Balancer: 2000 RUB/мес.
    * CDN (трафик 1 ТБ): ~ 2000 RUB/мес.
    * Итого: 4000 RUB/мес.
    * За год: 4000 * 12 = 48000 RUB.

Итого за облако на 1-й год: 252 000 + 240 000 + 48 000 + 48 000 = 588 000 RUB
##### 2-й год (1 000 000 пользователей)
* Виртуальные машины: 50 VM (4 vCPU, 8 ГБ RAM).
    * 50 * 7000 = 350 000 RUB/мес.
    * За год: 350 000 * 12 = 4 200 000 RUB.
* база данных: 
    * Кластер из 3 узлов, 8 vCPU, 32 ГБ RAM, 1 ТБ хранилища.
    * Стоимость ~ 60 000 RUB/мес.
    * За год: 60 000 * 12 = 720 000 RUB.
* хранилище (50 ТБ хранилища, 50 ТБ трафика):
    * Хранилище: 50 000 ГБ * 2 RUB/ГБ = 100 000 RUB/мес.
    * Трафик: 50 000 ГБ * 2 RUB/ГБ = 100 000 RUB/мес.
    * Итого: 200 000 RUB/мес.
    * За год: 20 000 * 12 = 2 400 000 RUB.
* Load Balancer и CDN (трафик 50 ТБ):
    * Load Balancer: 5 000 RUB/мес.
    * CDN: ~ 100 000 RUB/мес.
    * Итого: 105 000 RUB/мес.
    * За год: 105 000 * 12 = 1 260 000 RUB.
* Итого за облако на 2-й год: 4 200 000 + 720 000 + 2 400 000 + 1 260 000 = 8 580 000 RUB

##### 5-й год (50 000 000 пользователей)
* Виртуальные машины: 1 500 VM (4 vCPU, 8 ГБ RAM).
    * 1 500 * 7000 = 10 500 000 RUB/мес.
    * За год: 10 500 000 * 12 = 126 000 000 RUB.
* База данных: Кластер из 10 узлов, 16 vCPU, 64 ГБ RAM, 10 ТБ хранилища.
    * Стоимость ~ 1 500 000 RUB/мес.
    * За год: 1 500 000 * 12 = 18 000 000 RUB.
* хранилище (1 000 ТБ хранилища, 1 000 ТБ трафика):
    * Хранилище: 1 000 000 ГБ * 2.3 RUB/ГБ = 2 300 000 RUB/мес.
    * Трафик: 1 000 000 ГБ * 2 RUB/ГБ = 2 000 000 RUB/мес.
    * Итого: 4 300 000 RUB/мес.
    * За год: 4 300 000 * 12 = 51 600 000 RUB.
* Load Balancer и CDN (трафик 1 000 ТБ):
    * Load Balancer: 50 000 RUB/мес.
    * CDN: ~ 2 000 000 RUB/мес.
    * Итого: 2 050 000 RUB/мес.
    * За год: 2 050 000 * 12 = 24 600 000 RUB.
Итого за облако на 5-й год: 126 000 000 + 18 000 000 + 51 600 000 + 24 600 000 = 220 200 000 RUB

### Расходы на DevOps и поддержку
* 1-й год: 3 DevOps-инженера, 40 часов/мес каждый, ставка 3 000 RUB/час.
    * 3 * 40 * 3 000 = 360 000 RUB/мес.
    * За год: 360 000 * 12 = 4 320 000 RUB.
* 2-й год: 5 DevOps-инженеров (рост нагрузки), 40 часов/мес каждый.
    * 5 * 40 * 3 000 = 600 000 RUB/мес.
    * За год: 600 000 * 12 = 7 200 000 RUB.
* 5-й год: 10 DevOps-инженеров, 40 часов/мес каждый (поддержка огромной нагрузки).
    * 10 * 40 * 3 000 = 1 200 000 RUB/мес.
    * За год: 1 200 000 * 12 = 14 400 000 RUB.

### Итого OPEX по годам:
* 1-й год: 588 000 (облако) + 4 320 000 (DevOps) = 4 908 000 RUB.
* 2-й год: 8 580 000 (облако) + 7 200 000 (DevOps) = 15 780 000 RUB.
* 5-й год: 220 200 000 (облако) + 14 400 000 (DevOps) = 234 600 000 RUB.    

### общая стоимость владения


| год | CAPEX | OPEX | ИТОГ RUB |
|---|---|---|---|
| 1 (10K)| 13 600 000 | 4 908 000 | 18 532 000 |
| 2 (1M) | 0 | 15 780 000|15 780 000 |
| 5 (50M)| 0 | 234 600 000 | 234 600 000|
